<!--
  Generated template for the MateriasAmPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-toolbar>
    <ion-buttons left>
      <button ion-button icon-only (click)="back();">
        <ion-icon name="md-arrow-back"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>{{estado}}</ion-title>
    <ion-buttons end *ngIf="modifica">
      <button ion-button icon-only (click)="opciones()">
        <ion-icon name="md-more"></ion-icon>
      </button>
    </ion-buttons>
    <ion-buttons end *ngIf="!modifica">
      <button ion-button icon-only (click)="guardar()">
        <ion-icon name="md-checkmark"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <form [formGroup]="formAM">
    <ion-list>
      <ion-item>
        <ion-label floating>Descripcion</ion-label>
        <ion-input [(ngModel)]="descripcion" formControlName="descripcion" required type="text"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label floating>Descripcion Corta</ion-label>
        <ion-input [(ngModel)]="descripcionCorta" formControlName="descripcionCorta" required type="text"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label>Turno</ion-label>
        <ion-select [(ngModel)]="turno" formControlName="turno"   (ngModelChange)="ver();" multiple="true" cancelText="Cancelar" okText="Aceptar">
          <ion-option value="1">Mañana</ion-option>
          <ion-option value="2">Tarde</ion-option>
          <ion-option value="3">Noche</ion-option>
          </ion-select>
      </ion-item>
      <ion-item *ngIf="habilitarM=='1'">
        <ion-label>Aula Mañana</ion-label>
        <ion-select [(ngModel)]="aulaAsigform" formControlName="aulaAsigform"  (ngModelChange)="asigAulaMateria($event,habilitarM);">
          <ion-option *ngFor="let val of listadoAulaM" value="{{val.idaula}}">{{val.descripcion}}</ion-option>
        </ion-select>        
      </ion-item>
      <ion-item *ngIf="habilitarT=='2'">
        <ion-label>Aula Tarde</ion-label>
        <ion-select [(ngModel)]="aulaAsigform2" formControlName="aulaAsigformT"  (ngModelChange)="asigAulaMateria($event,habilitarT);">
          <ion-option *ngFor="let val of listadoAulaT" value="{{val.idaula}}">{{val.descripcion}}</ion-option>
        </ion-select>        
      </ion-item>
      <ion-item *ngIf="habilitarN=='3'">
        <ion-label>Aula Noche</ion-label>
        <ion-select [(ngModel)]="aulaAsigform3" formControlName="aulaAsigformN"  (ngModelChange)="asigAulaMateria($event,habilitarN);">
          <ion-option *ngFor="let val of listadoAulaN" value="{{val.idaula}}">{{val.descripcion}}</ion-option>
        </ion-select>        
      </ion-item>
    </ion-list>
  </form>
</ion-content>